# 🤖 هالف‌بات | HalfBot  
### ربات نیمه‌خودکار برای بازی متنی استراتژیک در تلگرام

📘 نسخه‌های دیگر:  
🇬🇧 [English Version](./README.md)

---

## 📌 معرفی

**هالف‌بات** یک ربات تلگرامی نیمه‌اتوماتیک است که برای گروه‌های سوپرگروه تلگرام طراحی شده و امکان اجرای بازی‌هایی با محوریت حمله، بیانیه، لشکرکشی و نقش‌آفرینی را فراهم می‌سازد.

---

## 🎯 امکانات اصلی

- 🎛 فعال و غیرفعال‌سازی بخش‌های مختلف توسط ادمین
- 🗣 سیستم انتشار بیانیه با تأیید قبل از ارسال
- 🚀 حمله موشکی مرحله‌ای با ورودی‌های متوالی
- ⚔️ لشکرکشی زمینی، دریایی و هوایی
- 👑 تعیین "لرد" برای هر گروه توسط ادمین‌ها
- 🗃 استفاده از دیتابیس SQLite برای ذخیره کاربران
- 💬 پاسخ‌ها و دکمه‌ها کاملاً فارسی با ظاهر زیبا

---

## ⚙️ مراحل نصب

### 1. دریافت سورس
```bash
git clone https://github.com/Milo-MILords/tg-textgame-bot.git
cd tg-textgame-bot
```

### 2. نصب وابستگی‌ها
```bash
pip install pyTelegramBotAPI
```

### 3. تنظیم اطلاعات اولیه
- توکن بات را در `'YOUR TOKEN'` جایگزین کنید.
- `ADMIN_ID` را با آی‌دی تلگرام خود و ادمین‌ها پر کنید.
- آیدی کانال‌ها را در `CHANNEL_ID` و `CHANNEL_ID1` وارد کنید.

### 4. اجرای ربات
برای شروع به کار ربات، دستور زیر را در ترمینال خود اجرا کنید:
```bash
python halfbot.py
```

پس از اجرای این دستور، ربات فعال شده و به دستورات گوش می‌دهد.  
> ❗ با بستن ترمینال، ربات نیز متوقف خواهد شد.  
> ✅ برای اجرای دائمی، می‌توانید از ابزارهایی مثل `screen` یا `tmux` یا یک سرور اختصاصی (VPS) استفاده کنید.

---

## 📱 اجرای ربات روی ترموکس (Termux در اندروید)

برای اجرای مستقیم ربات روی گوشی اندرویدی، می‌توانید از برنامه‌ی **Termux** استفاده کنید. مراحل نصب به صورت زیر است:

### 1. نصب Termux و ابزارهای موردنیاز
ابتدا ترموکس را از [F-Droid](https://f-droid.org/packages/com.termux/) نصب کرده و سپس دستورهای زیر را وارد کنید:
```bash
pkg update && pkg upgrade -y
pkg install python git -y
```

### 2. دریافت سورس
```bash
git clone https://github.com/Milo-MILords/tg-textgame-bot.git
cd tg-textgame-bot
```

### 3. نصب کتابخانه‌های پایتون
```bash
pip install --upgrade pip
pip install pyTelegramBotAPI
```

### 4. تنظیم فایل پیکربندی
فایل `halfbot.py` را با دستور زیر ویرایش کنید:
```bash
nano halfbot.py
```
توکن بات، آیدی‌ها و سایر موارد را تنظیم کرده و با `Ctrl + X` سپس `Y` و `Enter` ذخیره کنید.

### 5. اجرای ربات
```bash
python halfbot.py
```

### ✅ اجرای همیشگی (اختیاری)
برای جلوگیری از بسته شدن بات با بستن Termux از `tmux` استفاده کنید:
```bash
pkg install tmux
tmux
python halfbot.py
```

برای خروج موقت:  
`Ctrl + B` سپس `D`  
برای بازگشت:  
```bash
tmux attach
```

---

## 🧪 دستورات ادمین

| دستور                 | عملکرد                         |
|-----------------------|--------------------------------|
| `/on` / `/off`        | فعال‌/غیرفعال کردن ربات       |
| `/statement_on/off`  | فعال‌/غیرفعال کردن بیانیه     |
| `/mooshak_on/off`     | فعال‌/غیرفعال کردن حمله موشکی |
| `/lashkar_on/off`     | فعال‌/غیرفعال کردن لشکرکشی    |
| `/setlord`            | تعیین کاربر به عنوان لرد      |
| `/unsetlord`          | حذف نقش لرد از کاربر          |

> دستور `setlord` و `unsetlord` باید روی پیام ریپلای‌شده کاربر اجرا شوند.

---

## 🎮 نحوه تعامل کاربران

کاربران کافیست در گروه بنویسند:  
```
پنل
```
تا یک پنل درون‌گروهی با دکمه‌های زیر نمایش داده شود:
- 🙌 ارسال بیانیه
- 🚀 حمله موشکی
- ⚔️ لشکرکشی
- 🚨 صدور دستور حمله

---

## 🗃 ساختار دیتابیس

دیتابیس `game_bot.db` شامل یک جدول است:

| جدول    | فیلدها                  |
|---------|--------------------------|
| `users` | `user_id`, `group_id`   |

---

## 🖼 پیش‌نمایش

مثال از پیام حمله موشکی پس از تأیید:
```
✅حمله موشکی به پایان رسید.

🚀 نوع موشک: شهاب ۳  
📍 کشور مقصد: ایران  
🏙 شهر مقصد: تبریز  
🔢 تعداد موشک‌های شلیک شده: ۵
```

---

## 📜 لایسنس

این پروژه تحت لایسنس **MIT** ارائه شده و برای استفاده و توسعه آزاد است.

---

## 💰 حمایت مالی

اگر از این پروژه لذت بردید و خواستید در توسعه‌اش سهمی داشته باشید، می‌توانید از طریق شبکه TON از ما حمایت کنید:

```
TON Wallet: UQBT8Vmy9dPEeGpvsJY7_hMaQOOojhzjIkvyQqdDi993KqHA
```

با هر مبلغی، قدردان شما خواهیم بود 🙏